<!doctype html>
<html lang="pl">

<head>
    <title>Logowanie</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

    <style>
        .error-message {
            color: red;
        }
    </style>
</head>

<body>
    <div class="container-fluid page-home">
        <div class="row row-cols-2">
            <div class="col-sm-6">
                <h1 class="mt-3 placeholderdate">Login</h1>
                <p class="text-muted placeholderdate">Zaloguj się na swoje konto</p>

                <div class="placeholderdate">
                    {% if error %}
                    <div class="error-message">{{ error }}</div>
                    {% endif %}
                    <form method="POST" action="/login" class="needs-validation" novalidate>
                        <input type="hidden" name="csrf_token" value = "{{ csrf_token() }}" /> 
                        <div class="input-group mb-3">
                            <input type="text" id="nazwa_uzytkownika" name="nazwa_uzytkownika" class="form-control"
                                placeholder="Login" required>
                        </div>
                        <div class="input-group mb-3">
                            <input type="password" class="form-control" id="haslo" name="haslo" placeholder="Hasło"
                                required>
                        </div>
                        <button type="submit" class="btn btn-outline-primary " value="Zaloguj">Zaloguj</button>
                        <button type="button" class="btn btn-primary active mt-2"  onclick="location.href='/change_pass'">Zapomniałem hasła</button>
                        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
                        <script
                            src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.0/js/bootstrap.min.js"></script>
                        <script>
                            (function () {
                                'use strict';
                                var forms = document.querySelectorAll('.needs-validation');
                                Array.prototype.slice.call(forms)
                                    .forEach(function (form) {
                                        form.addEventListener('submit', function (event) {
                                            if (!form.checkValidity()) {
                                                event.preventDefault();
                                                event.stopPropagation();
                                            }
                                            form.classList.add('was-validated');
                                        }, false);
                                    });
                            })();
                        </script>
                    </form>

                </div>
            </div>
            <div class="col-sm-6 register">
                <h2 class="mt-3">Zarejestruj się </h2>
                <p class="text-muted ">Nie posiadasz jeszcze konta? Utwórz je przechodząc do formularza przyciskiem
                    poniżej</p>

                <button type="button" class="btn btn-primary active mt-2" onclick="location.href='/register'">Zapisz
                    się!</button>
            </div>
        </div>
    </div>
</body>

</html>